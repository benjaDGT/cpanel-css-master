!function() {
    function e(e) {
        function s() {
            var e = t(m);
            (e = d.find(".active").index()) + 1 !== m.length ? m.eq(e + 1).trigger("click") : m.eq(0).trigger("click");
        }
        function l() {
            var e = f.find("button");
            if (v.hasClass("interval") || !v.hasClass("hover")) {
                var t = f.find(".active").index();
                t + 1 !== e.length ? e.eq(t + 1).trigger("click") : e.eq(0).trigger("click");
            }
        }
        function o(e) {
            var t = e.find("> img"), a = t.attr("data-src");
            void 0 !== a ? (clearInterval(C), v.removeClass("interval"), t.attr("src", a).removeAttr("data-src"), 
            e.addClass("loading"), t.on("load", function() {
                $(this).css("opacity", "1"), e.hasClass("loading") && e.removeClass("loading"), 
                v.hasClass("interval") || v.hasClass("hover") || (C = setInterval(s, r), v.addClass("interval"));
            })) : v.hasClass("interval") || v.hasClass("hover") || (C = setInterval(s, r), v.addClass("interval"));
        }
        function c(e) {
            if (e.length) {
                var t = e.find(".slider-img").find("> ul > li:eq(0) img"), a = t.attr("data-blazy");
                void 0 !== a ? (n.width() < 1024 && v.removeClass("interval"), t.attr("src", a).removeAttr("data-blazy"), 
                e.addClass("loading"), t.on("load", function() {
                    $(this).css("opacity", "1"), e.removeClass("loading"), n.width() < 1024 && (v.hasClass("built") || (setInterval(l, 5e3), 
                    v.addClass("built")), v.hasClass("interval") || v.hasClass("hover") || v.addClass("interval")), 
                    t.hasClass("blazy") && t.removeClass("blazy");
                })) : n.width() < 1024 && (v.hasClass("interval") || v.hasClass("hover") || v.addClass("interval"));
            }
        }
        var d = $(e);
        if (d.length) {
            var v = d.find("> ul"), g = v.find("> li"), h = g.length;
            if (h > 1) {
                if (d.hasClass("multi-items")) {
                    var f = d.find(".bullets");
                    n.width() >= 1024 ? (v.css("width", h / 3 * 100 + "%"), g.css("width", 100 / h - .4 + "%"), 
                    i(h / 3, f)) : n.width() >= 640 && n.width() <= 1023 ? (v.css("width", h / 2 * 100 + "%"), 
                    g.css("width", 100 / h - .4 + "%"), i(h / 2, f)) : n.width() < 640 && (v.css("width", 100 * h + "%"), 
                    g.css("width", 100 / h + "%"), i(h, f)), $(window).resize(function() {
                        n.width() >= 1024 ? (v.css("width", h / 3 * 100 + "%"), g.css("width", 100 / h - .4 + "%"), 
                        i(h / 3, f)) : n.width() >= 640 && n.width() <= 1023 ? (v.css("width", h / 2 * 100 + "%"), 
                        g.css("width", 100 / h - .4 + "%"), i(h / 2, f)) : n.width() < 640 && (v.css("width", 100 * h + "%"), 
                        g.css("width", 100 / h + "%"), i(h, f));
                    }), f.on("click", "button", function() {
                        if (!v.hasClass("swiping")) {
                            v.addClass("swiping");
                            var e = $(this).index();
                            v.css("margin-left", "-" + 100 * e + "%"), n.width() >= 768 ? (c(g.eq(2 * e)), c(g.eq(2 * e + 1))) : (c(g.eq(e)), 
                            g.eq(e).addClass("active").siblings().removeClass("active")), $(this).addClass("active").siblings().removeClass("active"), 
                            v.removeClass("swiping");
                        }
                    }), (u = d.find(".nav .next")).on("click", function() {
                        if (!v.hasClass("swiping")) {
                            var e = p.find(".active").index();
                            e + 1 !== m.length ? m.eq(e + 1).trigger("click") : m.eq(0).trigger("click");
                        }
                    }), (y = d.find(".nav .prev")).on("click", function() {
                        if (!v.hasClass("swiping")) {
                            var e = p.find(".active").index();
                            0 !== e && m.eq(e - 1).trigger("click");
                        }
                    });
                } else {
                    d.hasClass("fade-slider") ? d.hasClass("swipe") ? (v.css("width", 100 * h + "%"), 
                    g.css("width", 100 / h + "%")) : d.hasClass("fade") || d.addClass("fade") : (v.css("width", 100 * h + "%"), 
                    g.css("width", 100 / h + "%")), g.eq(0).addClass("active").siblings().removeClass("active"), 
                    o(g.eq(0));
                    var p = d.find(".bullets");
                    i(h, p);
                    var m = p.find("button");
                    if (m.eq(0).addClass("active"), a(v, m), d.hasClass("fade-slider")) (u = d.find(".nav .next")).on("click", function() {
                        if (!v.hasClass("swiping")) {
                            var e = d.find(".active").index();
                            e + 1 !== m.length ? (m.eq(e + 1).trigger("click"), g.eq(e)) : m.eq(0).trigger("click");
                        }
                    }), (y = d.find(".nav .prev")).on("click", function() {
                        if (!v.hasClass("swiping")) {
                            var e = d.find(".active").index();
                            m.eq(e - 1).trigger("click");
                        }
                    }), m.on("click", function() {
                        if (!v.hasClass("swiping")) {
                            v.addClass("swiping");
                            var e = $(this).index();
                            d.hasClass("swipe") && v.css("margin-left", "-" + 100 * e + "%"), o(g.eq(e)), g.eq(e).addClass("active").siblings().removeClass("active"), 
                            m.eq(e).addClass("active").siblings().removeClass("active"), v.removeClass("swiping");
                        }
                    }); else {
                        var u = d.find(".nav .next");
                        u.on("click", function() {
                            if (!v.hasClass("swiping")) {
                                var e = p.find(".active").index();
                                e + 1 !== m.length ? m.eq(e + 1).trigger("click") : m.eq(0).trigger("click");
                            }
                        });
                        var y = d.find(".nav .prev");
                        y.on("click", function() {
                            if (!v.hasClass("swiping")) {
                                var e = p.find(".active").index();
                                0 !== e && m.eq(e - 1).trigger("click");
                            }
                        }), m.on("click", function() {
                            if (!v.hasClass("swiping")) {
                                v.addClass("swiping");
                                var e = $(this).index();
                                v.css("margin-left", "-" + 100 * e + "%"), o(g.eq(e)), g.eq(e).addClass("active").removeClass("active"), 
                                m.eq(e).addClass("active").siblings().removeClass("active"), v.removeClass("swiping");
                            }
                        });
                    }
                }
                var C;
            } else d.find(".nav").css("display", "none");
        }
    }
    function t(e) {
        for (var t = e.length, a = 0; a < t; a++) if (e.eq(a).hasClass("active")) return a;
    }
    function a(e, t) {
        var a = null, i = null;
        e.on("touchstart", function(e) {
            a = e.touches[0].clientX, i = e.touches[0].clientY;
        }), e.on("touchmove", function(s) {
            if (a && i) {
                var l = s.touches[0].clientX, n = s.touches[0].clientY, r = a - l, o = i - n;
                if (Math.abs(r) > Math.abs(o)) {
                    s.preventDefault(), e.trigger("mouseenter");
                    var c = t.length, d = e.find(".active").index();
                    r > 0 ? d + 1 !== c ? (t.eq(d + 1).trigger("click"), e.trigger("mouseleave")) : (t.eq(0).trigger("click"), 
                    e.trigger("mouseleave")) : 0 !== d && (t.eq(d - 1).trigger("click"), e.trigger("mouseleave"));
                }
                a = null, i = null;
            }
        });
    }
    function i(e, t) {
        if (t.length) {
            t.find("> *").length && t.empty();
            for (var a = 0; a < e; ) 0 == a ? t.append('<button class="active"></button>') : t.append("<button></button>"), 
            a++;
        } else console.log("El contenedor .NAV no existe, no puedo crear los botones de navegaciÃ³n.");
    }
    function s() {
        var e = k.height(), t = k.scrollTop(), a = t + e - 350;
        $.each(T, function() {
            var e = $(this), i = e.outerHeight(), s = e.offset().top;
            s + i >= t && s < a && e.addClass("active");
        });
    }
    function l() {
        var e = $("#menu-main .special-mlist");
        e.length && e.each(function() {
            var e = $(this).find(".sub-menu").html();
            $(this).find(".sub-menu").empty().html('<li class="content-submenu"><ul class="msub-menu">' + e + "</li></ul>");
        });
    }
    var n = $(window), r = ($("body"), $("html, body"), 6500);
    e("#slider-main"), e("#slider-properties"), e("#slider-neighborhoods"), e("#slider-luxury"), 
    e("#slider-testimonials"), $(document).on("click", ".accordeon-list>li h3", function(e) {
        e.preventDefault();
        var t = $(this);
        $(".accordeon-list li").removeClass("active"), t.parent().addClass("active"), t.next().hasClass("show") ? (t.next().removeClass("show"), 
        t.parent().removeClass("active")) : ($(".accordeon-list li ul").removeClass("show"), 
        t.next().toggleClass("show"));
    }), $("#home-filter-box").length && $(document).on("click", ".filter-btn button", function() {
        $(".filter-btn button").removeClass("active"), $(this).addClass("active");
    });
    var o = $("#listings-slider"), c = $("#listings-photos ul"), d = c.find("li").length, v = o.find("> li").length, g = $("#listings-navigation"), h = $("#listings-photos").find("li");
    c.css("width", 100 * d + "%"), o.css("width", 100 * d + "%"), g.length > 0 && g.on("click", "button", function() {
        var e = $(this).index();
        g.find("button").eq(e).addClass("active").siblings().removeClass("active");
        var t = parseInt($(this).html());
        if ($("#listing-pagination span").empty().html(t), 0 != e) {
            c.css("margin-left", "-" + 100 * e + "%"), o.css("margin-left", "-" + 100 * e + "%");
            var a = h.eq(e).find("img"), i = a.attr("data-src");
            void 0 != i && (a.attr("src", i).removeAttr("data-src"), setTimeout(function() {
                a.addClass("active");
            }, 250));
        } else c.css("margin-left", "0"), o.css("margin-left", "0");
    });
    for (var f = 0; f < v; f++) {
        var p = "0" + (f + 1);
        g.find(".bullets").append("<button>" + p + "</button>");
    }
    g.find("button").eq("0").addClass("active"), $("#listing-pagination").empty().html("<span>1</span>/ " + f), 
    $("body").on("click", ".show-map", function() {
        var e = $("#box-map-" + $(this).attr("data-map"));
        e.parent().parent().addClass("active");
        var t = e, a = {
            lat: parseFloat(t.data("lat")),
            lng: parseFloat(t.data("lng"))
        }, i = new google.maps.Map(document.getElementById("box-map-" + $(this).attr("data-map")), {
            zoom: 12,
            center: a,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: !1,
            streetViewControl: !1,
            scrollwheel: !1,
            styles: [ {
                featureType: "administrative",
                elementType: "labels.text.fill",
                stylers: [ {
                    color: "#444444"
                } ]
            }, {
                featureType: "landscape",
                elementType: "all",
                stylers: [ {
                    color: "#f2f2f2"
                } ]
            }, {
                featureType: "poi",
                elementType: "all",
                stylers: [ {
                    visibility: "off"
                } ]
            }, {
                featureType: "road",
                elementType: "all",
                stylers: [ {
                    saturation: -100
                }, {
                    lightness: 45
                } ]
            }, {
                featureType: "road.highway",
                elementType: "all",
                stylers: [ {
                    visibility: "simplified"
                } ]
            }, {
                featureType: "road.arterial",
                elementType: "labels.icon",
                stylers: [ {
                    visibility: "off"
                } ]
            }, {
                featureType: "transit",
                elementType: "all",
                stylers: [ {
                    visibility: "off"
                } ]
            }, {
                featureType: "water",
                elementType: "all",
                stylers: [ {
                    color: "#00407a"
                }, {
                    visibility: "on"
                } ]
            } ]
        });
        new google.maps.Marker({
            position: a,
            map: i,
            icon: "http://relatedchicago.staging.wpengine.com/wp-content/themes/r_chicago/images/marker.png"
        });
        e.removeAttr("data-lat").removeAttr("data-lng");
    }), $("body").on("click", ".close-map", function() {
        $(this).parent().parent().removeClass("active");
    });
    var m = $("#loader-wrapper");
    m.length && (m.addClass("active"), $(".content-loader").addClass("active")), n.on("load", function() {
        m.length && m.delay(10).fadeOut(function() {
            $(".home-header").delay(1).addClass("active-animation"), $("#content-slider").delay(1).addClass("active-animation");
        }), l();
    });
    var u = $(".home-header");
    if (u.length) {
        var y = u.height();
        n.scroll(function() {
            n.scrollTop() > y ? u.addClass("header-hidden") : u.removeClass("header-hidden");
        });
    }
    $('input[type="file"]').on("change", function() {
        var e = $(this).val();
        $(this).next().text(e);
    });
    var C = $("#map");
    if (C.length) {
        var w = {
            lat: parseFloat(C.data("lat")),
            lng: parseFloat(C.data("lng"))
        }, b = new google.maps.Map(document.getElementById("map"), {
            zoom: 12,
            center: w,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: !1,
            streetViewControl: !1,
            scrollwheel: !1,
            styles: [ {
                featureType: "administrative",
                elementType: "labels.text.fill",
                stylers: [ {
                    color: "#444444"
                } ]
            }, {
                featureType: "landscape",
                elementType: "all",
                stylers: [ {
                    color: "#f2f2f2"
                } ]
            }, {
                featureType: "poi",
                elementType: "all",
                stylers: [ {
                    visibility: "off"
                } ]
            }, {
                featureType: "road",
                elementType: "all",
                stylers: [ {
                    saturation: -100
                }, {
                    lightness: 45
                } ]
            }, {
                featureType: "road.highway",
                elementType: "all",
                stylers: [ {
                    visibility: "simplified"
                } ]
            }, {
                featureType: "road.arterial",
                elementType: "labels.icon",
                stylers: [ {
                    visibility: "off"
                } ]
            }, {
                featureType: "transit",
                elementType: "all",
                stylers: [ {
                    visibility: "off"
                } ]
            }, {
                featureType: "water",
                elementType: "all",
                stylers: [ {
                    color: "#00407a"
                }, {
                    visibility: "on"
                } ]
            } ]
        });
        new google.maps.Marker({
            position: w,
            map: b,
            icon: "http://relatedchicago.staging.wpengine.com/wp-content/themes/r_chicago/images/marker.png"
        });
        google.maps.event.trigger(b, "resize"), $("#map").removeAttr("data-lat").removeAttr("data-lng");
    }
    var T = $(".animated-section"), k = $(window);
    k.on("scroll resize", s), k.trigger("scroll"), $(document).on("click", "#display-responsive-btn", function() {
        $("body").addClass("opened-menu");
    }), $(document).on("click", "#next-step", function() {
        $("html, body").animate({
            scrollTop: $("#home-properties").offset().top
        }, 900);
    }), $(document).on("click", "#btn-responsive", function() {
        $("body").toggleClass("opened-menu");
    });
}();